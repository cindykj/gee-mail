<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>gee.mail</title>

<html>
	<head>

		<link href="css/style.css" rel="stylesheet" media="screen">
		<script src="js/mail-generator.js"></script>

    <script>
     window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
		

		console.log(window.geemails);
		// insert for loop here
		for (var i = 0; i<window.geemails.length; i++){
			// console.log(window.geemails[i]);
			console.log(window.geemails[i].sender);
			console.log(window.geemails[i].subject);
			console.log(window.geemails[i].date);
			console.log(window.geemails[i].body);

	        var senderBox = document.createElement('div');
	        senderBox.className = 'emlSender';
	        senderBox.innerHTML = geemails[i].sender;
	        document.body.appendChild(senderBox);

	        var subjectBox = document.createElement('div');
	        subjectBox.className = 'emlSubject';
	        subjectBox.innerHTML = geemails[i].subject;
	        senderBox.appendChild(subjectBox);

	        var dateBox = document.createElement('div');
	        dateBox.className = 'emlDate';
	        dateBox.innerHTML = geemails[i].date;
	        senderBox.appendChild(dateBox);

	        var bodyBox = document.createElement('div');
	        bodyBox.className = 'emlBody';
	        bodyBox.innerHTML = geemails[i].body;
	        senderBox.appendChild(bodyBox);

		}

		var parentBox = document.getElementsByClassName('emlSender');
		for (var i = 0; i<parentBox.length; i++){
			parentBox[i].addEventListener('click', showBody);
		}

		function showBody(){
			var bodyContent = this.querySelectorAll('.body')[0];
			if (bodyContent.style.display === 'none'){
				bodyContent.style.display = 'block';
			}else{
				bodyContent.style.display = "none";
			}
			console.log('it works!');
		}

		// var parentBox= document.getElementsByClassName('emlSender');
		// for(var i = 0; i<parentBox.length; i++);
		// 	parentBox[i].addEventListener('click', showBody);

		// function showBody(){
		// 	var bodyContent = this.querySelectorAll('.body')[0];
		// 	if(bodyContent.style.display === 'none'){
		// 		bodyContent.style.display = 'block';
		// 	}else{
		// 		bodyContent.style.display = 'none';
		// 	};

		// 	console.log('itworks!');

 	};
 


    </script>
	</head>
	<body>
		<div class="container" id="main">
			<header id="intro">
				<h1 id="name">gee.mail</h1>
					<img id="logo" src="https://images.sftcdn.net/images/t_optimized,f_auto/p/4726ff4a-9b33-11e6-b705-00163ed833e7/1323208810/geemail-logo.png" alt="logo">
			<div class="content">
				<!-- <nav id="newMail">New Messages</nav> -->

			</div>
		</div>

		 <script src="js/mail-generator.js"></script>
	</body>
</html>